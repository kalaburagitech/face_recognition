<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tab功能测试</title>
    <!-- Bootstrap 5.3 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <h2>Tab功能测试页面</h2>
        <p>请点击下面的标签页测试切换功能：</p>
        
        <!-- Tab导航 -->
        <ul class="nav nav-tabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="test1-tab" data-bs-toggle="tab" data-bs-target="#test1" type="button" role="tab">
                    <i class="bi bi-search me-1"></i>测试1
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="test2-tab" data-bs-toggle="tab" data-bs-target="#test2" type="button" role="tab">
                    <i class="bi bi-person-plus me-1"></i>测试2
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="test3-tab" data-bs-toggle="tab" data-bs-target="#test3" type="button" role="tab">
                    <i class="bi bi-people me-1"></i>测试3
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="test4-tab" data-bs-toggle="tab" data-bs-target="#test4" type="button" role="tab">
                    <i class="bi bi-bar-chart me-1"></i>测试4
                </button>
            </li>
        </ul>

        <!-- Tab内容 -->
        <div class="tab-content mt-3">
            <div class="tab-pane fade show active" id="test1" role="tabpanel">
                <div class="card">
                    <div class="card-body">
                        <h4 class="text-primary">测试页面1</h4>
                        <p>这是第一个测试页面的内容。</p>
                        <button class="btn btn-primary" onclick="alert('测试1按钮点击成功')">测试按钮</button>
                    </div>
                </div>
            </div>
            <div class="tab-pane fade" id="test2" role="tabpanel">
                <div class="card">
                    <div class="card-body">
                        <h4 class="text-success">测试页面2</h4>
                        <p>这是第二个测试页面的内容。</p>
                        <button class="btn btn-success" onclick="alert('测试2按钮点击成功')">测试按钮</button>
                    </div>
                </div>
            </div>
            <div class="tab-pane fade" id="test3" role="tabpanel">
                <div class="card">
                    <div class="card-body">
                        <h4 class="text-info">测试页面3</h4>
                        <p>这是第三个测试页面的内容。</p>
                        <button class="btn btn-info" onclick="alert('测试3按钮点击成功')">测试按钮</button>
                    </div>
                </div>
            </div>
            <div class="tab-pane fade" id="test4" role="tabpanel">
                <div class="card">
                    <div class="card-body">
                        <h4 class="text-warning">测试页面4</h4>
                        <p>这是第四个测试页面的内容。</p>
                        <button class="btn btn-warning" onclick="alert('测试4按钮点击成功')">测试按钮</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="mt-4">
            <h5>手动测试</h5>
            <button onclick="switchTab('test2')" class="btn btn-outline-primary">切换到测试2</button>
            <button onclick="switchTab('test3')" class="btn btn-outline-primary">切换到测试3</button>
            <button onclick="switchTab('test4')" class="btn btn-outline-primary">切换到测试4</button>
            <button onclick="checkStatus()" class="btn btn-outline-secondary">检查状态</button>
        </div>
        
        <div id="status" class="mt-3"></div>
    </div>

    <!-- Bootstrap 5.3 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        function switchTab(targetId) {
            const tabEl = document.querySelector(`[data-bs-target="#${targetId}"]`);
            if (tabEl) {
                const tab = new bootstrap.Tab(tabEl);
                tab.show();
                updateStatus(`手动切换到: ${targetId}`);
            }
        }

        function checkStatus() {
            const activeTab = document.querySelector('.nav-link.active');
            const activeContent = document.querySelector('.tab-pane.active');
            
            let status = '<div class="alert alert-info">';
            status += `<strong>状态检查结果:</strong><br>`;
            status += `活动Tab: ${activeTab ? activeTab.textContent.trim() : '无'}<br>`;
            status += `活动内容: ${activeContent ? activeContent.id : '无'}<br>`;
            status += `Bootstrap版本: ${typeof bootstrap !== 'undefined' ? '已加载' : '未加载'}`;
            status += '</div>';
            
            document.getElementById('status').innerHTML = status;
        }

        function updateStatus(message) {
            document.getElementById('status').innerHTML = `<div class="alert alert-success">${message}</div>`;
        }

        // 监听Tab切换事件
        document.addEventListener('shown.bs.tab', function(event) {
            const targetId = event.target.getAttribute('data-bs-target');
            updateStatus(`Tab切换成功: ${targetId}`);
            console.log('Tab switched to:', targetId);
        });

        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded, Bootstrap:', typeof bootstrap !== 'undefined' ? 'loaded' : 'not loaded');
            updateStatus('页面加载完成，可以开始测试Tab切换功能');
        });
    </script>
</body>
</html>
