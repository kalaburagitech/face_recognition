<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tab测试</title>
    <!-- Bootstrap 5.3 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <h2>Tab导航测试</h2>
        
        <!-- 标准Bootstrap Tab -->
        <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="home-tab" data-bs-toggle="tab" data-bs-target="#home" type="button" role="tab">首页</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile" type="button" role="tab">个人</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="contact-tab" data-bs-toggle="tab" data-bs-target="#contact" type="button" role="tab">联系</button>
            </li>
        </ul>

        <div class="tab-content" id="myTabContent">
            <div class="tab-pane fade show active" id="home" role="tabpanel">
                <div class="p-3">首页内容</div>
            </div>
            <div class="tab-pane fade" id="profile" role="tabpanel">
                <div class="p-3">个人页面内容</div>
            </div>
            <div class="tab-pane fade" id="contact" role="tabpanel">
                <div class="p-3">联系页面内容</div>
            </div>
        </div>

        <hr>

        <!-- 测试手动初始化 -->
        <button onclick="manualTabTest()" class="btn btn-primary">手动切换到个人页面</button>
        <button onclick="checkBootstrap()" class="btn btn-secondary">检查Bootstrap</button>
        
        <div id="output" class="mt-3"></div>
    </div>

    <!-- Bootstrap 5.3 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        function checkBootstrap() {
            const output = document.getElementById('output');
            if (typeof bootstrap !== 'undefined') {
                output.innerHTML = '<div class="alert alert-success">Bootstrap已加载，版本信息存在</div>';
            } else {
                output.innerHTML = '<div class="alert alert-danger">Bootstrap未加载</div>';
            }
        }

        function manualTabTest() {
            try {
                const profileTab = document.getElementById('profile-tab');
                const tab = new bootstrap.Tab(profileTab);
                tab.show();
                
                document.getElementById('output').innerHTML = '<div class="alert alert-info">手动切换成功</div>';
            } catch (error) {
                document.getElementById('output').innerHTML = `<div class="alert alert-danger">错误: ${error.message}</div>`;
            }
        }

        // 监听tab事件
        document.addEventListener('shown.bs.tab', function (event) {
            console.log('Tab event triggered:', event.target.id);
            const output = document.getElementById('output');
            output.innerHTML = `<div class="alert alert-info">Tab切换到: ${event.target.textContent}</div>`;
        });

        // 页面加载后检查
        window.addEventListener('DOMContentLoaded', checkBootstrap);
    </script>
</body>
</html>
